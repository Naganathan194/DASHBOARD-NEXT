{"version":3,"sources":["../../../../components/Dashboard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useState, useCallback } from 'react';\r\nimport dynamic from 'next/dynamic';\r\n\r\n// â”€â”€ Types â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\ninterface Doc { _id: string; [key: string]: unknown; }\r\ninterface Stats { total: number; approved: number; rejected: number; checkedIn: number; pending: number; }\r\ninterface ToastItem { id: number; msg: string; type: 'success' | 'error' | 'info'; }\r\ninterface AppState {\r\n  db: string; col: string; docs: Doc[]; filtered: Doc[];\r\n  selected: Doc | null; details: Doc | null;\r\n  rejectTargetId: string | null; editingDoc: Doc | null; deleteTargetId: string | null;\r\n}\r\n\r\n// â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nconst formatKey = (k: string) =>\r\n  k.replace(/([A-Z])/g, ' $1').replace(/[_-]/g, ' ').replace(/\\s+/g, ' ').trim()\r\n   .replace(/\\b\\w/g, (l) => l.toUpperCase());\r\n\r\nconst formatColName = (n: string) =>\r\n  n.replace(/([A-Z])/g, ' $1').replace(/[_-]/g, ' ').replace(/\\s+/g, ' ').trim()\r\n   .replace(/\\b\\w/g, (l) => l.toUpperCase());\r\n\r\nconst getDocName = (doc: Doc): string => {\r\n  for (const k of ['fullName', 'firstName', 'candidateName', 'name', 'title', 'email']) {\r\n    if (doc[k]) return String(doc[k]);\r\n  }\r\n  return 'Unknown';\r\n};\r\n\r\nconst getDocEmail = (doc: Doc): string =>\r\n  String(doc.email ?? doc.mail ?? doc.Email ?? '');\r\n\r\nconst isImageVal = (v: unknown): boolean => {\r\n  if (typeof v !== 'string') return false;\r\n  return (v.startsWith('data:image') || v.startsWith('/9j/') || v.startsWith('iVBOR') ||\r\n    (v.length > 200 && /^[A-Za-z0-9+/=]+$/.test(v.slice(0, 100))));\r\n};\r\n\r\nconst isImageKey = (k: string): boolean =>\r\n  /screenshot|image|photo|picture|img|payment|receipt|signature|avatar|profile/i.test(k);\r\n\r\nconst getDocStatus = (doc: Doc): string =>\r\n  doc.checkedIn ? 'checked_in' : String(doc.status ?? 'pending');\r\n\r\n// â”€â”€â”€ API helper â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nasync function api<T = unknown>(method: string, url: string, body?: unknown): Promise<T> {\r\n  const opts: RequestInit = { method, headers: { 'Content-Type': 'application/json' } };\r\n  if (body) opts.body = JSON.stringify(body);\r\n  const r = await fetch('/api' + url, opts);\r\n  if (!r.ok) {\r\n    const e = await r.json().catch(() => ({ error: r.statusText }));\r\n    throw new Error(e.error || r.statusText);\r\n  }\r\n  return r.json() as T;\r\n}\r\n\r\n// â”€â”€ Serialise Mongo docs (ObjectId â†’ string) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction serialise(doc: any): Doc {\r\n  return JSON.parse(JSON.stringify(doc));\r\n}\r\n\r\n// â”€â”€ StatusPill â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction StatusPill({ status }: { status: string }) {\r\n  const map: Record<string, string> = {\r\n    pending: 'pending', approved: 'approved', rejected: 'rejected', checked_in: 'checked_in',\r\n  };\r\n  const cls = map[status] ?? '';\r\n  const label = status === 'checked_in' ? 'Checked In' :\r\n    status ? status.charAt(0).toUpperCase() + status.slice(1) : 'Pending';\r\n  return <span className={`status-pill ${cls}`}>{label}</span>;\r\n}\r\n\r\n// â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction Toasts({ toasts }: { toasts: ToastItem[] }) {\r\n  const icons: Record<string, string> = { success: 'check-circle', error: 'exclamation-circle', info: 'info-circle' };\r\n  const colors: Record<string, string> = { success: 'var(--green)', error: 'var(--red)', info: 'var(--accent)' };\r\n  return (\r\n    <div id=\"toast-container\">\r\n      {toasts.map((t) => (\r\n        <div key={t.id} className={`toast ${t.type}`}>\r\n          <i className={`fas fa-${icons[t.type]}`} style={{ color: colors[t.type] }} />\r\n          <span>{t.msg}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// â”€â”€ Loading Overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction LoadingOverlay({ show, text }: { show: boolean; text: string }) {\r\n  return (\r\n    <div className={`loading-overlay${show ? ' show' : ''}`}>\r\n      <div className=\"spinner\" />\r\n      <span style={{ color: 'var(--muted)', fontSize: 14 }}>{text}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\n// â”€â”€ ImageModal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction ImageModal({ src, onClose }: { src: string; onClose: () => void }) {\r\n  if (!src) return null;\r\n  return (\r\n    <div className=\"img-modal open\" onClick={onClose}>\r\n      <span className=\"img-modal-close\">&times;</span>\r\n      <img src={src} alt=\"Preview\" />\r\n    </div>\r\n  );\r\n}\r\n\r\n// â”€â”€ StatsGrid â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction StatsGrid({ stats }: { stats: Stats }) {\r\n  return (\r\n    <div className=\"stats-grid\">\r\n      {[\r\n        { cls: 'total',    icon: 'users',        val: stats.total,     lbl: 'Total'      },\r\n        { cls: 'approved', icon: 'check-circle',  val: stats.approved,  lbl: 'Approved'   },\r\n        { cls: 'pending',  icon: 'clock',         val: stats.pending,   lbl: 'Pending'    },\r\n        { cls: 'rejected', icon: 'times-circle',  val: stats.rejected,  lbl: 'Rejected'   },\r\n        { cls: 'checked',  icon: 'sign-in-alt',   val: stats.checkedIn, lbl: 'Checked In' },\r\n      ].map((s) => (\r\n        <div key={s.cls} className={`stat-card ${s.cls}`}>\r\n          <div className=\"stat-icon\"><i className={`fas fa-${s.icon}`} /></div>\r\n          <div className=\"stat-val\">{s.val}</div>\r\n          <div className=\"stat-lbl\">{s.lbl}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// â”€â”€ DocDetail â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction DocDetail({\r\n  doc, onApprove, onOpenReject, onEdit, onDelete,\r\n}: {\r\n  doc: Doc;\r\n  onApprove: (id: string) => void;\r\n  onOpenReject: (id: string) => void;\r\n  onEdit: (id: string) => void;\r\n  onDelete: (id: string) => void;\r\n}) {\r\n  const [imgSrc, setImgSrc] = useState('');\r\n  const name     = getDocName(doc);\r\n  const status   = getDocStatus(doc);\r\n  const isPending  = !doc.status || doc.status === 'pending';\r\n  const isApproved = doc.status === 'approved';\r\n  const isRejected = doc.status === 'rejected';\r\n\r\n  const fields = Object.entries(doc).filter(\r\n    ([k, v]) => k !== '_id' && k !== 'qrCode' && !(isImageKey(k) && isImageVal(v))\r\n  );\r\n  const images = Object.entries(doc).filter(([k, v]) => isImageKey(k) && isImageVal(v));\r\n\r\n  return (\r\n    <>\r\n      {imgSrc && <ImageModal src={imgSrc} onClose={() => setImgSrc('')} />}\r\n      <div className=\"detail-card\">\r\n        <div className=\"detail-header\">\r\n          <div>\r\n            <div className=\"detail-name\">{name}</div>\r\n            <div style={{ marginTop: 4 }}><StatusPill status={status} /></div>\r\n            {isRejected && doc.rejectionReason != null && (\r\n              <div style={{ marginTop: 8, fontSize: 13, color: 'var(--red)' }}>\r\n                <i className=\"fas fa-info-circle\" /> Reason: {String(doc.rejectionReason)}\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"detail-actions\">\r\n            {isPending && (\r\n              <>\r\n                <button className=\"btn btn-success\" onClick={() => onApprove(String(doc._id))}>\r\n                  <i className=\"fas fa-check\" /> Approve\r\n                </button>\r\n                <button className=\"btn btn-danger\" onClick={() => onOpenReject(String(doc._id))}>\r\n                  <i className=\"fas fa-times\" /> Reject\r\n                </button>\r\n              </>\r\n            )}\r\n            {isApproved && !doc.checkedIn && (\r\n              <div style={{ color: 'var(--muted)', fontSize: 13 }}>\r\n                <i className=\"fas fa-check-circle\" style={{ color: 'var(--green)' }} /> Approved â€“ waiting check-in\r\n              </div>\r\n            )}\r\n            {isRejected && (\r\n              <div style={{ color: 'var(--red)', fontSize: 13 }}>\r\n                <i className=\"fas fa-times-circle\" /> Rejected\r\n              </div>\r\n            )}\r\n            <button className=\"btn btn-ghost btn-sm\" onClick={() => onEdit(String(doc._id))}>\r\n              <i className=\"fas fa-edit\" /> Edit\r\n            </button>\r\n            <button className=\"btn btn-ghost btn-sm\" style={{ color: 'var(--red)' }} onClick={() => onDelete(String(doc._id))}>\r\n              <i className=\"fas fa-trash\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"detail-body\">\r\n          <div className=\"fields-grid\">\r\n            {fields.map(([k, v]) => {\r\n              let val: React.ReactNode;\r\n              if (v === null || v === undefined) val = <em style={{ color: 'var(--muted)' }}>â€”</em>;\r\n              else if (typeof v === 'object') val = <code style={{ fontSize: 11, background: 'var(--bg)', padding: '4px 8px', borderRadius: 4, display: 'block', overflowX: 'auto' }}>{JSON.stringify(v, null, 2)}</code>;\r\n              else if (typeof v === 'boolean') val = <span style={{ color: v ? 'var(--green)' : 'var(--red)' }}>{v ? 'Yes' : 'No'}</span>;\r\n              else { const s = String(v); val = s.length > 200 ? s.substring(0, 200) + 'â€¦' : s; }\r\n              return (\r\n                <div key={k} className=\"field-item\">\r\n                  <div className=\"field-label\">{formatKey(k)}</div>\r\n                  <div className=\"field-value\">{val}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {doc.qrCode != null && (\r\n            <div className=\"qr-section\">\r\n              <img className=\"qr-img\" src={String(doc.qrCode)} alt=\"QR Code\" onClick={() => setImgSrc(String(doc.qrCode))} />\r\n              <div>\r\n                <div style={{ fontFamily: 'Syne,sans-serif', fontWeight: 700, marginBottom: 6 }}>Entry QR Code</div>\r\n                <p style={{ fontSize: 13, color: 'var(--muted)', marginBottom: 12 }}>Attendee uses this to check in</p>\r\n                {doc.checkInTime != null && (\r\n                  <div style={{ fontSize: 12, color: 'var(--blue)' }}>\r\n                    <i className=\"fas fa-clock\" /> Checked in: {new Date(String(doc.checkInTime)).toLocaleString()}\r\n                  </div>\r\n                )}\r\n                <a className=\"btn btn-ghost btn-sm\" style={{ marginTop: 10, display: 'inline-flex' }}\r\n                  download={`qr_${String(doc._id)}.png`} href={String(doc.qrCode)}>\r\n                  <i className=\"fas fa-download\" /> Download QR\r\n                </a>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {images.map(([k, v]) => {\r\n            const src = String(v).startsWith('data:') ? String(v) : 'data:image/jpeg;base64,' + String(v);\r\n            return (\r\n              <div key={k} className=\"img-preview\">\r\n                <div style={{ fontFamily: 'Syne,sans-serif', fontWeight: 700, marginBottom: 12, fontSize: 14 }}>\r\n                  <i className=\"fas fa-image\" style={{ color: 'var(--accent)' }} /> {formatKey(k)}\r\n                </div>\r\n                <img src={src} onClick={() => setImgSrc(src)} alt={k} />\r\n                <div className=\"img-actions\">\r\n                  <button className=\"btn btn-ghost btn-sm\" onClick={() => setImgSrc(src)}><i className=\"fas fa-expand\" /> View</button>\r\n                  <a className=\"btn btn-ghost btn-sm\" download={`${k}_${Date.now()}.png`} href={src}><i className=\"fas fa-download\" /> Download</a>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n// â”€â”€ ScannerPanel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nfunction ScannerPanel({ onToast }: { onToast: (m: string, t: 'success' | 'error' | 'info') => void }) {\r\n  const [scanning, setScanning] = useState(false);\r\n  const [scanResult, setScanResult] = useState<React.ReactNode>(null);\r\n  const [manualInput, setManualInput] = useState('');\r\n  const scannerRef = useRef<unknown>(null);\r\n\r\n  const stopScanner = useCallback(async () => {\r\n    setScanning(false);\r\n    if (scannerRef.current) {\r\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      await (scannerRef.current as any).stop().catch(() => {});\r\n      scannerRef.current = null;\r\n    }\r\n  }, []);\r\n\r\n  const startScanner = useCallback(async () => {\r\n    const { Html5Qrcode } = await import('html5-qrcode');\r\n    setScanning(true);\r\n    const scanner = new Html5Qrcode('qr-reader');\r\n    scannerRef.current = scanner;\r\n    scanner.start(\r\n      { facingMode: 'environment' },\r\n      { fps: 10, qrbox: 250 },\r\n      async (decoded: string) => { await stopScanner(); processScan(decoded); },\r\n      () => {}\r\n    ).catch((e: unknown) => {\r\n      onToast('Camera error: ' + String(e), 'error');\r\n      stopScanner();\r\n    });\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [stopScanner]);\r\n\r\n  useEffect(() => { return () => { stopScanner(); }; }, [stopScanner]);\r\n\r\n  const processScan = async (data: string) => {\r\n    setScanResult(\r\n      <div style={{ textAlign: 'center', padding: 24 }}>\r\n        <div className=\"spinner\" style={{ margin: 'auto' }} />\r\n      </div>\r\n    );\r\n    try {\r\n      const r = await api<{ document: Doc; db: string; collection: string }>('POST', '/scan', { qrData: data });\r\n      const doc = serialise(r.document);\r\n      const name        = getDocName(doc);\r\n      const email       = getDocEmail(doc);\r\n      const alreadyIn   = !!doc.checkedIn;\r\n\r\n      setScanResult(\r\n        <div className={`scan-result success`}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginBottom: 12 }}>\r\n            <i className=\"fas fa-user-circle\" style={{ fontSize: 36, color: 'var(--accent)' }} />\r\n            <div>\r\n              <div className=\"scan-attendee-name\">{name}</div>\r\n              {email && <div style={{ fontSize: 13, color: 'var(--muted)' }}>{email}</div>}\r\n            </div>\r\n          </div>\r\n          <div className={`checkin-status ${alreadyIn ? 'in' : 'out'}`}>\r\n            <i className={`fas fa-${alreadyIn ? 'check-circle' : 'clock'}`} />\r\n            {alreadyIn ? `Already Checked In at ${new Date(String(doc.checkInTime)).toLocaleTimeString()}` : 'Not Yet Checked In'}\r\n          </div>\r\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8, marginBottom: 16 }}>\r\n            {Object.entries(doc)\r\n              .filter(([k]) => k !== '_id' && k !== 'qrCode' && k !== 'qrToken' && !isImageKey(k))\r\n              .slice(0, 8)\r\n              .map(([k, v]) => (\r\n                <div key={k} style={{ background: 'var(--surface2)', borderRadius: 8, padding: '8px 12px' }}>\r\n                  <div style={{ fontSize: 10, color: 'var(--muted)', textTransform: 'uppercase' }}>{formatKey(k)}</div>\r\n                  <div style={{ fontSize: 13 }}>{v == null ? 'â€”' : String(v).substring(0, 40)}</div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n          {!alreadyIn ? (\r\n            <button className=\"btn btn-success\" style={{ width: '100%' }}\r\n              onClick={() => doCheckIn(String(doc._id), r.db, r.collection, data)}>\r\n              <i className=\"fas fa-sign-in-alt\" /> Confirm Check-In\r\n            </button>\r\n          ) : (\r\n            <div style={{ color: 'var(--green)', textAlign: 'center', fontWeight: 600 }}>\r\n              <i className=\"fas fa-check-circle\" /> Already Checked In\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    } catch (e: unknown) {\r\n      setScanResult(\r\n        <div className=\"scan-result error\">\r\n          <div style={{ color: 'var(--red)', fontFamily: 'Syne,sans-serif', fontWeight: 700, marginBottom: 8 }}>\r\n            <i className=\"fas fa-times-circle\" /> Invalid QR Code\r\n          </div>\r\n          <p style={{ fontSize: 13, color: 'var(--muted)' }}>{(e as Error).message}</p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const doCheckIn = async (id: string, db: string, collection: string, rawData: string) => {\r\n    try {\r\n      await api('POST', '/checkin', { id, db, collection });\r\n      onToast('âœ… Check-in successful!', 'success');\r\n      await processScan(rawData);\r\n    } catch (e: unknown) { onToast((e as Error).message, 'error'); }\r\n  };\r\n\r\n  const manualScan = async () => {\r\n    if (!manualInput.trim()) { onToast('Enter QR data', 'error'); return; }\r\n    await processScan(manualInput.trim());\r\n  };\r\n\r\n  return (\r\n    <div className=\"scanner-panel\">\r\n      <h2 style={{ fontFamily: 'Syne,sans-serif', fontSize: 24, marginBottom: 24, alignSelf: 'flex-start' }}>\r\n        <i className=\"fas fa-qrcode\" style={{ color: 'var(--accent)' }} /> QR Check-In Scanner\r\n      </h2>\r\n\r\n      <div className=\"scanner-box\">\r\n        <div className=\"scanner-head\"><i className=\"fas fa-camera\" /> Point camera at attendee QR code</div>\r\n        <div id=\"qr-reader\" />\r\n        <div style={{ padding: 16, display: 'flex', gap: 10, justifyContent: 'center' }}>\r\n          {!scanning ? (\r\n            <button className=\"btn btn-primary\" onClick={startScanner}><i className=\"fas fa-play\" /> Start Camera</button>\r\n          ) : (\r\n            <button className=\"btn btn-ghost\" onClick={stopScanner}><i className=\"fas fa-stop\" /> Stop</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ width: '100%', maxWidth: 500, background: 'var(--card)', border: '1px solid var(--border)', borderRadius: 16, padding: 20, marginBottom: 24 }}>\r\n        <div style={{ fontFamily: 'Syne,sans-serif', fontWeight: 700, marginBottom: 12, fontSize: 15 }}>\r\n          <i className=\"fas fa-keyboard\" style={{ color: 'var(--accent)' }} /> Manual QR Data Entry\r\n        </div>\r\n        <input type=\"text\" className=\"form-input\" placeholder=\"Paste QR JSON or token here\"\r\n          value={manualInput} onChange={(e) => setManualInput(e.target.value)} />\r\n        <button className=\"btn btn-primary\" style={{ marginTop: 10, width: '100%' }} onClick={manualScan}>\r\n          <i className=\"fas fa-search\" /> Lookup\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ width: '100%', maxWidth: 500 }}>{scanResult}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// â”€â”€ Dashboard (main) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\nexport default function Dashboard() {\r\n  const [state, setState] = useState<AppState>({\r\n    db: '', col: '', docs: [], filtered: [], selected: null, details: null,\r\n    rejectTargetId: null, editingDoc: null, deleteTargetId: null,\r\n  });\r\n  const [dbs, setDbs] = useState<string[]>([]);\r\n  const [cols, setCols] = useState<string[]>([]);\r\n  const [stats, setStats] = useState<Stats | null>(null);\r\n  const [connected, setConnected] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingText, setLoadingText] = useState('Loading...');\r\n  const [activeTab, setActiveTab] = useState<'records' | 'scanner'>('records');\r\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\r\n  const [searchQ, setSearchQ] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('');\r\n  const [rejectReason, setRejectReason] = useState('');\r\n  const [docJsonInput, setDocJsonInput] = useState('');\r\n  const [modals, setModals] = useState({ reject: false, doc: false, delete: false });\r\n  const autoRefreshRef = useRef<ReturnType<typeof setInterval> | null>(null);\r\n\r\n  const toast = useCallback((msg: string, type: 'success' | 'error' | 'info' = 'info') => {\r\n    const id = Date.now();\r\n    setToasts((prev) => [...prev, { id, msg, type }]);\r\n    setTimeout(() => setToasts((prev) => prev.filter((t) => t.id !== id)), 3500);\r\n  }, []);\r\n\r\n  const showLoading = (text = 'Loading...') => { setLoadingText(text); setLoading(true); };\r\n  const hideLoading = () => setLoading(false);\r\n\r\n  const openModal  = (m: keyof typeof modals) => setModals((prev) => ({ ...prev, [m]: true }));\r\n  const closeModal = (m: keyof typeof modals) => setModals((prev) => ({ ...prev, [m]: false }));\r\n\r\n  // â”€â”€ init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const list = await api<string[]>('GET', '/databases');\r\n        setDbs(list);\r\n        setConnected(true);\r\n      } catch (e: unknown) {\r\n        setConnected(false);\r\n        toast('Cannot connect to server: ' + (e as Error).message, 'error');\r\n      }\r\n    })();\r\n  }, [toast]);\r\n\r\n  // â”€â”€ filter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const applyFilter = useCallback((docs: Doc[], q: string, st: string): Doc[] => {\r\n    return docs.filter((d) => {\r\n      const name  = getDocName(d).toLowerCase();\r\n      const email = getDocEmail(d).toLowerCase();\r\n      const matchQ = !q || name.includes(q) || email.includes(q) || String(d.registrationId ?? '').includes(q);\r\n      const docSt  = getDocStatus(d);\r\n      const matchS = !st || docSt === st;\r\n      return matchQ && matchS;\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setState((prev) => ({ ...prev, filtered: applyFilter(prev.docs, searchQ, filterStatus) }));\r\n  }, [searchQ, filterStatus, applyFilter]);\r\n\r\n  // â”€â”€ DB change â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const onDbChange = async (db: string) => {\r\n    stopAutoRefresh();\r\n    setState((prev) => ({ ...prev, db, col: '', docs: [], filtered: [], selected: null, details: null }));\r\n    setCols([]);\r\n    setStats(null);\r\n    if (!db) return;\r\n    try {\r\n      const list = await api<string[]>('GET', `/databases/${db}/collections`);\r\n      setCols(list);\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n  };\r\n\r\n  // â”€â”€ Col change â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const onColChange = async (col: string) => {\r\n    stopAutoRefresh();\r\n    setState((prev) => ({ ...prev, col, selected: null, docs: [] }));\r\n    setStats(null);\r\n    if (!col) return;\r\n    await loadDocs(state.db, col);\r\n    await loadStats(state.db, col);\r\n    startAutoRefresh(state.db, col);\r\n  };\r\n\r\n  const loadDocs = async (db: string, col: string) => {\r\n    showLoading('Fetching records...');\r\n    try {\r\n      const docs = (await api<Doc[]>('GET', `/databases/${db}/collections/${col}/documents`)).map(serialise);\r\n      const sorted = docs.sort((a, b) => {\r\n        const ra = String(a.registrationId ?? a.regId ?? a.registerNumber ?? '');\r\n        const rb = String(b.registrationId ?? b.regId ?? b.registerNumber ?? '');\r\n        return ra.localeCompare(rb, undefined, { numeric: true });\r\n      });\r\n      setState((prev) => ({\r\n        ...prev, docs: sorted,\r\n        filtered: applyFilter(sorted, searchQ, filterStatus),\r\n      }));\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  const loadStats = async (db: string, col: string) => {\r\n    try {\r\n      const s = await api<Stats>('GET', `/databases/${db}/collections/${col}/stats`);\r\n      setStats(s);\r\n    } catch { /* silent */ }\r\n  };\r\n\r\n  // â”€â”€ select doc â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const selectDoc = async (id: string) => {\r\n    setState((prev) => ({\r\n      ...prev,\r\n      selected: prev.docs.find((d) => String(d._id) === id) ?? null,\r\n    }));\r\n    showLoading('Loading details...');\r\n    try {\r\n      const doc = serialise(await api<Doc>('GET', `/databases/${state.db}/collections/${state.col}/documents/${id}`));\r\n      setState((prev) => ({ ...prev, details: doc }));\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  // â”€â”€ approve â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const approveDoc = async (id: string) => {\r\n    showLoading('Generating QR & sending email...');\r\n    try {\r\n      await api('POST', `/databases/${state.db}/collections/${state.col}/documents/${id}/approve`);\r\n      toast('Approved! QR sent to attendee.', 'success');\r\n      await loadDocs(state.db, state.col);\r\n      await loadStats(state.db, state.col);\r\n      await selectDoc(id);\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  // â”€â”€ reject â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const openRejectModal = (id: string) => {\r\n    setState((prev) => ({ ...prev, rejectTargetId: id }));\r\n    setRejectReason('');\r\n    openModal('reject');\r\n  };\r\n\r\n  const submitReject = async () => {\r\n    if (!rejectReason.trim()) { toast('Please enter a reason', 'error'); return; }\r\n    closeModal('reject');\r\n    showLoading('Rejecting & sending email...');\r\n    try {\r\n      await api('POST', `/databases/${state.db}/collections/${state.col}/documents/${state.rejectTargetId}/reject`, { reason: rejectReason });\r\n      toast('Rejected. Email sent to attendee.', 'info');\r\n      await loadDocs(state.db, state.col);\r\n      await loadStats(state.db, state.col);\r\n      if (state.rejectTargetId) await selectDoc(state.rejectTargetId);\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  // â”€â”€ add / edit â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const openAddModal = () => {\r\n    setState((prev) => ({ ...prev, editingDoc: null }));\r\n    setDocJsonInput('{\\n  \"name\": \"\",\\n  \"email\": \"\",\\n  \"eventName\": \"\"\\n}');\r\n    openModal('doc');\r\n  };\r\n\r\n  const openEditModal = async (id: string) => {\r\n    showLoading('Loading...');\r\n    try {\r\n      const doc = serialise(await api<Doc>('GET', `/databases/${state.db}/collections/${state.col}/documents/${id}`));\r\n      setState((prev) => ({ ...prev, editingDoc: doc }));\r\n      const clean = { ...doc } as Record<string, unknown>;\r\n      delete clean._id;\r\n      Object.keys(clean).forEach((k) => { if (isImageKey(k) && isImageVal(clean[k])) clean[k] = '[IMAGE DATA PRESERVED]'; });\r\n      setDocJsonInput(JSON.stringify(clean, null, 2));\r\n      openModal('doc');\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  const saveDoc = async () => {\r\n    let data: Record<string, unknown>;\r\n    try { data = JSON.parse(docJsonInput); }\r\n    catch (e: unknown) { toast('Invalid JSON: ' + (e as Error).message, 'error'); return; }\r\n\r\n    if (state.editingDoc) {\r\n      Object.keys(data).forEach((k) => {\r\n        if (data[k] === '[IMAGE DATA PRESERVED]' && state.editingDoc![k]) data[k] = state.editingDoc![k];\r\n      });\r\n    }\r\n\r\n    closeModal('doc');\r\n    showLoading('Saving...');\r\n    try {\r\n      if (state.editingDoc) {\r\n        await api('PUT', `/databases/${state.db}/collections/${state.col}/documents/${String(state.editingDoc._id)}`, data);\r\n        toast('Document updated', 'success');\r\n        await selectDoc(String(state.editingDoc._id));\r\n      } else {\r\n        await api('POST', `/databases/${state.db}/collections/${state.col}/documents`, data);\r\n        toast('Document created', 'success');\r\n      }\r\n      await loadDocs(state.db, state.col);\r\n      await loadStats(state.db, state.col);\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  // â”€â”€ delete â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const openDeleteModal = (id: string) => {\r\n    setState((prev) => ({ ...prev, deleteTargetId: id }));\r\n    openModal('delete');\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    closeModal('delete');\r\n    showLoading('Deleting...');\r\n    try {\r\n      await api('DELETE', `/databases/${state.db}/collections/${state.col}/documents/${state.deleteTargetId}`);\r\n      toast('Document deleted', 'info');\r\n      setState((prev) => ({ ...prev, selected: null, details: null }));\r\n      await loadDocs(state.db, state.col);\r\n      await loadStats(state.db, state.col);\r\n    } catch (e: unknown) { toast((e as Error).message, 'error'); }\r\n    finally { hideLoading(); }\r\n  };\r\n\r\n  // â”€â”€ export â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const exportExcel = async () => {\r\n    const XLSX = await import('xlsx');\r\n    const docs = state.docs;\r\n    if (!docs.length) return;\r\n    const keys = Object.keys(docs[0]).filter((k) => !isImageKey(k));\r\n    const rows = [keys.map(formatKey), ...docs.map((d) => keys.map((k) => {\r\n      const v = d[k];\r\n      if (v == null) return '';\r\n      if (typeof v === 'object') return JSON.stringify(v);\r\n      return String(v);\r\n    }))];\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, XLSX.utils.aoa_to_sheet(rows), state.col.substring(0, 31));\r\n    XLSX.writeFile(wb, `${state.col}_${new Date().toISOString().split('T')[0]}.xlsx`);\r\n    toast('Exported successfully', 'success');\r\n  };\r\n\r\n  // â”€â”€ auto refresh â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  const startAutoRefresh = (db: string, col: string) => {\r\n    autoRefreshRef.current = setInterval(async () => {\r\n      if (!db || !col) return;\r\n      try {\r\n        const docs = (await api<Doc[]>('GET', `/databases/${db}/collections/${col}/documents`)).map(serialise);\r\n        setState((prev) => {\r\n          if (JSON.stringify(docs.map((d) => d._id)) !== JSON.stringify(prev.docs.map((d) => d._id))) {\r\n            return { ...prev, docs, filtered: applyFilter(docs, searchQ, filterStatus) };\r\n          }\r\n          return prev;\r\n        });\r\n        const s = await api<Stats>('GET', `/databases/${db}/collections/${col}/stats`).catch(() => null);\r\n        if (s) setStats(s);\r\n      } catch { /* silent */ }\r\n    }, 30000);\r\n  };\r\n\r\n  const stopAutoRefresh = () => {\r\n    if (autoRefreshRef.current) { clearInterval(autoRefreshRef.current); autoRefreshRef.current = null; }\r\n  };\r\n\r\n  useEffect(() => { return () => stopAutoRefresh(); }, []);\r\n\r\n  const colHasData = !!state.col && state.docs.length > 0;\r\n\r\n  // â”€â”€ render â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n  return (\r\n    <>\r\n      <LoadingOverlay show={loading} text={loadingText} />\r\n      <Toasts toasts={toasts} />\r\n\r\n      {/* HEADER */}\r\n      <header className=\"header\">\r\n        <div className=\"logo\">\r\n          <div className=\"logo-icon\"><i className=\"fas fa-bolt\" /></div>\r\n          EventManager Pro\r\n        </div>\r\n        <div className=\"header-selects\">\r\n          <select value={state.db} onChange={(e) => onDbChange(e.target.value)}>\r\n            <option value=\"\">Select Database</option>\r\n            {dbs.map((d) => <option key={d} value={d}>{d}</option>)}\r\n          </select>\r\n          <select value={state.col} onChange={(e) => onColChange(e.target.value)} disabled={!state.db}>\r\n            <option value=\"\">Select Collection</option>\r\n            {cols.map((c) => <option key={c} value={c}>{formatColName(c)}</option>)}\r\n          </select>\r\n        </div>\r\n        <div className=\"header-right\">\r\n          <button className=\"btn btn-ghost btn-sm\" onClick={exportExcel} disabled={!colHasData}>\r\n            <i className=\"fas fa-download\" /> Export\r\n          </button>\r\n          <button className=\"btn btn-primary btn-sm\" onClick={openAddModal} disabled={!state.col}>\r\n            <i className=\"fas fa-plus\" /> Add\r\n          </button>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 6, fontSize: 12, color: 'var(--muted)' }}>\r\n            <div className={`status-dot ${connected ? 'connected' : 'disconnected'}`} />\r\n            <span>{connected ? 'Connected' : 'Disconnected'}</span>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* NAV TABS */}\r\n      <nav className=\"nav-tabs\">\r\n        {(['records', 'scanner'] as const).map((tab) => (\r\n          <button key={tab} className={`nav-tab${activeTab === tab ? ' active' : ''}`} onClick={() => setActiveTab(tab)}>\r\n            <i className={`fas fa-${tab === 'records' ? 'table' : 'qrcode'}`} />\r\n            {tab === 'records' ? 'Records' : 'QR Scanner'}\r\n          </button>\r\n        ))}\r\n      </nav>\r\n\r\n      {/* MAIN */}\r\n      <div className=\"main\">\r\n\r\n        {/* â”€â”€ RECORDS PANEL â”€â”€ */}\r\n        <div className={`panel${activeTab === 'records' ? ' active' : ''}`} id=\"panel-records\">\r\n          <aside className=\"sidebar\">\r\n            <div className=\"sidebar-head\">\r\n              <span className=\"sidebar-title\">{state.col ? formatColName(state.col) : 'All Records'}</span>\r\n              <span className=\"badge\">{state.filtered.length}</span>\r\n            </div>\r\n            <div style={{ padding: 12, borderBottom: '1px solid var(--border)', display: 'flex', gap: 6 }}>\r\n              <select value={filterStatus} onChange={(e) => setFilterStatus(e.target.value)}\r\n                style={{ flex: 1, minWidth: 0, fontSize: 12, padding: '6px 10px' }}>\r\n                <option value=\"\">All Status</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"approved\">Approved</option>\r\n                <option value=\"rejected\">Rejected</option>\r\n                <option value=\"checked_in\">Checked In</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"search-wrap\">\r\n              <input type=\"text\" placeholder=\"ðŸ” Search...\" value={searchQ} onChange={(e) => setSearchQ(e.target.value)} />\r\n            </div>\r\n            <ul className=\"list\">\r\n              {state.filtered.length === 0 ? (\r\n                <li className=\"empty\">\r\n                  <i className=\"fas fa-inbox\" /><br />\r\n                  {state.col ? 'No records found' : 'Select a collection'}\r\n                </li>\r\n              ) : (\r\n                state.filtered.map((doc) => {\r\n                  const name    = getDocName(doc);\r\n                  const email   = getDocEmail(doc);\r\n                  const regId   = String(doc.registrationId ?? doc.regId ?? doc.registerNumber ?? '');\r\n                  const docStatus = getDocStatus(doc);\r\n                  const isActive  = String(state.selected?._id) === String(doc._id);\r\n                  return (\r\n                    <li key={String(doc._id)} className={`list-item${isActive ? ' active' : ''}`}\r\n                      onClick={() => selectDoc(String(doc._id))}>\r\n                      <div className=\"list-item-name\">{name}</div>\r\n                      {email && <div className=\"list-item-sub\">{email}</div>}\r\n                      <div className=\"list-item-meta\">\r\n                        {regId ? <span style={{ fontSize: 11, color: 'var(--muted)' }}>#{regId.substring(0, 10)}</span> : <span />}\r\n                        <StatusPill status={docStatus} />\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })\r\n              )}\r\n            </ul>\r\n          </aside>\r\n\r\n          <div className=\"content\">\r\n            {stats && <StatsGrid stats={stats} />}\r\n            {state.details ? (\r\n              <DocDetail\r\n                doc={state.details}\r\n                onApprove={approveDoc}\r\n                onOpenReject={openRejectModal}\r\n                onEdit={openEditModal}\r\n                onDelete={openDeleteModal}\r\n              />\r\n            ) : !state.col ? (\r\n              <div className=\"placeholder\">\r\n                <div className=\"placeholder-icon\"><i className=\"fas fa-database\" /></div>\r\n                <h3>Select a collection to begin</h3>\r\n                <p style={{ fontSize: 14, marginTop: 8 }}>Choose a database and collection from the header</p>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n\r\n        {/* â”€â”€ SCANNER PANEL â”€â”€ */}\r\n        <div className={`panel${activeTab === 'scanner' ? ' active' : ''}`} id=\"panel-scanner\">\r\n          {activeTab === 'scanner' && <ScannerPanel onToast={toast} />}\r\n        </div>\r\n      </div>\r\n\r\n      {/* â”€â”€ REJECT MODAL â”€â”€ */}\r\n      {modals.reject && (\r\n        <div className=\"modal-overlay open\">\r\n          <div className=\"modal\">\r\n            <div className=\"modal-title\"><i className=\"fas fa-times-circle\" style={{ color: 'var(--red)' }} /> Reject Attendee</div>\r\n            <p style={{ color: 'var(--muted)', fontSize: 14, marginBottom: 20 }}>\r\n              Please provide a reason for rejection. This will be emailed to the attendee.\r\n            </p>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Reason for Rejection *</label>\r\n              <textarea className=\"form-input\" value={rejectReason} onChange={(e) => setRejectReason(e.target.value)}\r\n                placeholder=\"e.g. Registration incomplete, missing documents, event capacity reached...\" />\r\n            </div>\r\n            <div className=\"modal-actions\">\r\n              <button className=\"btn btn-ghost\" onClick={() => closeModal('reject')}>Cancel</button>\r\n              <button className=\"btn btn-danger\" onClick={submitReject}><i className=\"fas fa-times\" /> Reject &amp; Notify</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* â”€â”€ ADD/EDIT DOC MODAL â”€â”€ */}\r\n      {modals.doc && (\r\n        <div className=\"modal-overlay open\">\r\n          <div className=\"modal\" style={{ minWidth: 600 }}>\r\n            <div className=\"modal-title\">\r\n              <i className={`fas fa-${state.editingDoc ? 'edit' : 'plus'}`} style={{ color: 'var(--accent)' }} />\r\n              {state.editingDoc ? 'Edit Document' : 'Add Document'}\r\n            </div>\r\n            <p style={{ color: 'var(--muted)', fontSize: 13, marginBottom: 16 }}>\r\n              {state.editingDoc\r\n                ? 'Edit the JSON. Image fields marked [IMAGE DATA PRESERVED] will remain unchanged.'\r\n                : 'Enter fields as JSON key-value pairs'}\r\n            </p>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">JSON Data</label>\r\n              <textarea className=\"form-input\" style={{ minHeight: 200, fontFamily: 'monospace', fontSize: 13 }}\r\n                value={docJsonInput} onChange={(e) => setDocJsonInput(e.target.value)} />\r\n            </div>\r\n            <div className=\"modal-actions\">\r\n              <button className=\"btn btn-ghost\" onClick={() => closeModal('doc')}>Cancel</button>\r\n              <button className=\"btn btn-primary\" onClick={saveDoc}><i className=\"fas fa-save\" /> Save</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* â”€â”€ DELETE CONFIRM â”€â”€ */}\r\n      {modals.delete && (\r\n        <div className=\"modal-overlay open\">\r\n          <div className=\"modal\">\r\n            <div className=\"modal-title\"><i className=\"fas fa-trash\" style={{ color: 'var(--red)' }} /> Confirm Delete</div>\r\n            <p style={{ color: 'var(--muted)', fontSize: 14 }}>Are you sure you want to delete this record? This cannot be undone.</p>\r\n            <div className=\"modal-actions\">\r\n              <button className=\"btn btn-ghost\" onClick={() => closeModal('delete')}>Cancel</button>\r\n              <button className=\"btn btn-danger\" onClick={confirmDelete}><i className=\"fas fa-trash\" /> Delete</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}